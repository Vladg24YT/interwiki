(function(){function u(t,e){var a=document.getElementById("resizer-container"),r=document.createElement("iframe");return r.style.display="none",a.appendChild(r),t=t.replace(/^https?:/,""),e[0]!=="/"&&(e="/"+e),k(function(){var c=a.getBoundingClientRect().top,n=String(Math.floor(Math.random()*1e4));r.src=t+"/common--javascript/resize-iframe.html?"+n+"#"+c+e},250)}function k(t,e){var a=0;return function(){clearTimeout(a),a=setTimeout(t,e)}}function p(t,e,a,r){var c=t[e]||{},n=document.getElementsByClassName("side-block")[0];n.style.display="none";var i=document.querySelector(".heading p");i.innerText=c.head,i.addEventListener("click",function(){location.reload()}),i.title="Click to refresh (Last refresh\uFF1A"+new Date().toLocaleString()+")",Object.keys(t).forEach(function(o){if(o!==e){var s=t[o];v(c,o,s,a,r)}})}function v(t,e,a,r,c){var n=r.replace(new RegExp("^"+t.category),a.category);n=n.substring(0,60).replace(/-$/,"");var i=r.length>=59&&n.length<r.length;S(a.id,n,function(o){o.some(function(s){return i?s.indexOf(n)===0:s===n})&&(w(a.url+n,a.name,e),c())})}function w(t,e,a){var r=document.getElementsByClassName("side-block")[0],c=Array.prototype.slice.call(r.getElementsByClassName("menu-item"));r.style.display="";var n=document.createElement("div");n.classList.add("menu-item"),n.setAttribute("name",a);var i=document.createElement("img");i.setAttribute("src","//scp-wiki.wdfiles.com/local--files/nav:side/default.png"),i.setAttribute("alt","default.png"),i.classList.add("image"),n.appendChild(i);var o=document.createElement("a");o.setAttribute("href",t),o.setAttribute("target","_parent"),o.innerText=e,n.appendChild(o),r.appendChild(n),c.some(function(s){if(s.getAttribute("name")>a)return r.insertBefore(n,s),!0})}function S(t,e,a){var r="&s="+t+"&q="+e,c="/quickmodule.php?module=PageLookupQModule"+r,n=new XMLHttpRequest;n.open("GET",c,!0),n.addEventListener("load",function(){if(n.readyState===4){var i=[];try{if(n.status===200){var o=JSON.parse(n.responseText);i=o.pages.map(function(s){return s.unix_name})}}catch(s){console.error("Interwiki: lookup failed for "+t+"/"+e),console.error(s)}finally{a(i)}}}),n.send()}function m(t,e){return function(r){var c=d(r,"priority"),n=Number(c);if(isNaN(n)){console.error("Interwiki: rejected style with priority"+c);return}var i=d(r,"theme");i&&l(n,x(t,i));var o=d(r,"css");o&&b(n,o),(i||o)&&setTimeout(e,250)}}function b(t,e){var a=Array.prototype.slice.call(document.head.querySelectorAll("style.custom-style"));if(!a.some(f(t,e))){var r=document.createElement("style");r.innerText=e,h(t,r)}}function l(t,e){var a=Array.prototype.slice.call(document.head.querySelectorAll("link.custom-style"));if(!a.some(f(t,e))){var r=document.createElement("link");r.rel="stylesheet",r.href=e,h(t,r)}}function h(t,e){e.classList.add("custom-style"),e.dataset.priority=t;var a=Array.prototype.slice.call(document.head.querySelectorAll("link.custom-style, style.custom-style")),r=e.tagName,c=a.some(function(n){var i=Number(n.dataset.priority),o=n.tagName;if(t>i)return!1;if(i===t){if(o==="LINK"&&r==="STYLE")return!1;o===r&&console.error("Interwiki: encountered two "+(o==="LINK"?"themes":"CSS styles")+" with the same priority ("+i+") - result may not be as expected")}return document.head.insertBefore(e,n),!0});c||document.head.appendChild(e)}function f(t,e){var a=function(r){return Number(r.getAttribute("data-priority"))!==t?!1:r.tagName==="LINK"?r.getAttribute("href")===e:r.tagName==="STYLE"?r.innerText===e:!1};return a}function x(t,e){if(e.indexOf("http")===0||e.indexOf("//")===0)return e;if(!t)return console.error("Interwiki: could not resolve relative fullname ("+e+") for unconfigured site. Consider using a full URL instead."),"";if(e.indexOf("/")===-1)return t+"/local--code/"+e+"/1";var a=e.split("/");return a.length>=3&&a[1]==="code"?t+"/local--code/"+a[0]+"/"+a[2]:(console.error("Interwiki: unknown theme location:"+e),"")}var y={cn:{name:"\u4E2D\u6587",head:"\u5176\u4ED6\u8BED\u8A00",url:"https://scp-wiki-cn.wikidot.com/",id:"530812",category:""},cs:{name:"\u010Cesky",head:"V jin\xFDch jazyc\xEDch",url:"https://scp-cs.wikidot.com/",id:"2060442",category:""},en:{name:"English",head:"In other languages",url:"https://scp-wiki.wikidot.com/",id:"66711",category:""},fr:{name:"Fran\xE7ais",head:"Dans d\u2019autres langues",url:"https://fondationscp.wikidot.com/",id:"464696",category:""},de:{name:"Deutsch",head:"In anderen Sprachen",url:"https://scp-wiki-de.wikidot.com/",id:"1269857",category:""},int:{name:"International",head:"Languages",url:"https://scp-int.wikidot.com/",id:"1427610",category:""},it:{name:"Italiano",head:"In altre lingue",url:"https://fondazionescp.wikidot.com/",id:"530167",category:""},jp:{name:"\u65E5\u672C\u8A9E",head:"\u4ED6\u8A00\u8A9E\u7248",url:"https://scp-jp.wikidot.com/",id:"578002",category:""},ko:{name:"\uD55C\uAD6D\uC5B4",head:"\uB2E4\uB978 \uC5B8\uC5B4",url:"http://ko.scp-wiki.net/",id:"486864",category:""},pl:{name:"Polski",head:"W innych j\u0119zykach",url:"http://scp-wiki.net.pl/",id:"647733",category:""},ptbr:{name:"Portugu\xEAs",head:"Em outros idiomas",url:"https://scp-pt-br.wikidot.com/",id:"783633",category:""},ru:{name:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",head:"\u041D\u0430 \u0434\u0440\u0443\u0433\u0438\u0445 \u044F\u0437\u044B\u043A\u0430\u0445",url:"http://scpfoundation.net/",id:"169125",category:""},es:{name:"Espa\xF1ol",head:"En otros idiomas",url:"http://scp-es.com/",id:"560484",category:""},th:{name:"\u0E20\u0E32\u0E29\u0E32\u0E44\u0E17\u0E22",head:"\u0E20\u0E32\u0E29\u0E32\u0E2D\u0E37\u0E48\u0E19",url:"https://scp-th.wikidot.com/",id:"547203",category:""},ua:{name:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",head:"\u0406\u043D\u0448\u0438\u043C\u0438 \u043C\u043E\u0432\u0430\u043C\u0438",url:"https://scp-ukrainian.wikidot.com/",id:"1398197",category:""},"zh-tr":{name:"\u7E41\u9AD4\u4E2D\u6587",head:"\u5176\u4ED6\u8A9E\u8A00",url:"https://scp-zh-tr.wikidot.com/",id:"3947998",category:""},vn:{name:"Ti\u1EBFng Vi\u1EC7t",head:"Ng\xF4n ng\u1EEF",url:"https://scp-vn.wikidot.com/",id:"836589",category:""}};var g={cn:{name:"\u4E2D\u6587",head:"\u5176\u4ED6\u8BED\u8A00",url:"https://scp-wiki-cn.wikidot.com/",id:"530812",category:"wanderers:"},cs:{name:"\u010Ce\u0161tina",head:"V jin\xFDch jazyc\xEDch",url:"https://wanderers-library-cs.wikidot.com/",id:"4600566",category:""},en:{name:"English",head:"Languages",url:"https://wanderers-library.wikidot.com/",id:"146034",category:""},jp:{name:"\u65E5\u672C\u8A9E",head:"\u4ED6\u8A00\u8A9E\u7248",url:"https://wanderers-library-jp.wikidot.com/",id:"4600658",category:""},ko:{name:"\uD55C\uAD6D\uC5B4",head:"\uB2E4\uB978 \uC5B8\uC5B4",url:"https://wanderers-library-ko.wikidot.com/",id:"621849",category:""},pl:{name:"Polski",head:"W innych j\u0119zykach",url:"https://wanderers-library-pl.wikidot.com/",id:"4593099",category:""}};addEventListener("DOMContentLoaded",function(){var t=d(location.search,"community"),e=d(location.search,"pagename"),a=d(location.search,"lang"),r=d(location.search,"preventWikidotBaseStyle");I(t,e,a,r),window.isInterwikiFrame=!0});function d(t,e){t.indexOf("?")===0&&(t=t.substring(1));var a=t.split("&");a.reverse();var r=a.find(function(c){return c.indexOf(e+"=")===0});return r==null?"":decodeURIComponent(r.substring(e.length+1))}function E(){Array.prototype.slice.call(parent).forEach(function(t){try{t.isStyleFrame&&window.requestStyleChange(t.location.search)}catch(e){if(!(e instanceof DOMException))throw e}})}function I(t,e,a,r){e=e.replace(/^_default:/,"");var c={wl:g,scp:y}[t]||{},n=c[a]||{},i=document.referrer,o=location.href.replace(/^.*\//,"/"),s=u(i,o);window.requestStyleChange=m(n.url||"",s),r!=="true"&&l(-1,"//d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--theme/base/css/style.css"),E(),p(c,a,e,s)}})();
//# sourceMappingURL=interwiki.js.map
